<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Full-Arch Financing - Staff Portal</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
    <style>
      /* safety fallback in case style.css is empty */
      body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        padding: 20px;
        max-width: 800px;
        margin: 0 auto;
      }
      .field {
        margin-bottom: 10px;
      }
      label {
        display: block;
        font-weight: 600;
        margin-bottom: 4px;
      }
      input {
        width: 100%;
        padding: 6px 8px;
        box-sizing: border-box;
      }
      button {
        padding: 8px 14px;
        margin-top: 8px;
        cursor: pointer;
      }
      .hidden {
        display: none;
      }
      h1,
      h2,
      h3 {
        margin-top: 20px;
        margin-bottom: 10px;
      }
      hr {
        margin: 24px 0;
      }
    </style>
  </head>
  <body>
    <h1>Full-Arch Financing - Staff Portal</h1>

    <!-- STEP 1: PLAN + DOWN PAYMENT -->
    <section>
      <h2>Step 1 – Create Plan & Down Payment Link</h2>

      <div class="field">
        <label for="name">Patient Name</label>
        <input id="name" type="text" />
      </div>

      <div class="field">
        <label for="email">Patient Email</label>
        <input id="email" type="email" />
      </div>

      <div class="field">
        <label for="totalFee">Total Fee ($)</label>
        <input id="totalFee" type="number" min="0" step="0.01" />
      </div>

      <div class="field">
        <label for="termMonths">Term (months)</label>
        <input id="termMonths" type="number" min="1" />
      </div>

      <div class="field">
        <label for="downPercent">Down Payment (%)</label>
        <input id="downPercent" type="number" min="0" max="100" />
      </div>

      <!-- IMPORTANT: this actually calls your JS -->
      <button type="button" onclick="createPlan()">
        Create Plan
      </button>

      <div id="results" class="hidden">
        <h3>Plan Details</h3>
        <p>Down Payment: $<span id="dp">0.00</span></p>
        <p>Remaining Balance: $<span id="remaining">0.00</span></p>
        <p>Monthly Payment: $<span id="monthly">0.00</span></p>

        <p>
          Down Payment Link:
          <a id="paymentLink" href="#" target="_blank"></a>
        </p>
      </div>
    </section>

    <hr />

    <!-- STEP 2: AUTOPAY -->
    <section id="autopayCard" class="hidden">
      <h2>Step 2 – Start Monthly Autopay</h2>
      <p>Use this after the down payment is paid.</p>

      <div class="field">
        <label for="customerId">Stripe Customer ID</label>
        <input id="customerId" type="text" />
      </div>

      <div class="field">
        <label for="remainingInput">Remaining Balance ($)</label>
        <input id="remainingInput" type="number" min="0" step="0.01" />
      </div>

      <div class="field">
        <label for="termInput">Term (months)</label>
        <input id="termInput" type="number" min="1" />
      </div>

      <!-- IMPORTANT: this calls your JS -->
      <button type="button" onclick="createAutopay()">
        Create Monthly Autopay Subscription
      </button>

      <div id="autopayResult"></div>
    </section>

    <!-- Load your JS last so all elements exist -->
    <script src="script.js"></script>
  </body>
</html>

